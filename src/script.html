
// id is {{ id }}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script> 

// const delay = ms => new Promise(res => setTimeout(res, ms));

const number_of_frames={{number_of_frames}} ;

const display_flowcharts = (wanted) => {
    $("details").open = true ;
    for (let i=1;i<=number_of_frames;i++) {
        let id = "{{~id~}}-"+i
        // console.log("id : "+id ) ;
        let div = document.getElementById(id);
        if (i==wanted) {
            console.log("show "+id) ;
            div.hidden=false ;
            div.visibility="visible" ;
        }
        else {
            // console.log("hide") ;
            div.hidden=true; 
            div.visibility="hidden" ;
        }
    }
};

$(document).ready(function() {
   let displayed_graph=1
    $("#start-{{~id~}}").click(function(){
        console.log("click {{id}}") ;
        displayed_graph=1 ;
        display_flowcharts(displayed_graph) ;
   });
   $("#forward-{{~id~}}").click(function(){
        console.log("click {{id}}") ;
        displayed_graph=displayed_graph+1 ;
        console.log(displayed_graph);
        if ( displayed_graph > number_of_frames) {
            displayed_graph=number_of_frames
        }
        display_flowcharts(displayed_graph) ;
   });
   $("#backward-{{~id~}}").click(function(){
        console.log("click {{id}}") ;
        displayed_graph=displayed_graph-1 ;
        console.log(displayed_graph);
        if ( displayed_graph < 1) {
            displayed_graph=1
        }
        display_flowcharts(displayed_graph) ;
   });
});
</script> 
